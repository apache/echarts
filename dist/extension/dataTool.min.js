!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.dataTool={})}(this,function(e){"use strict";function t(e,t,r){if(e&&t){if(e.map&&e.map===s)return e.map(t,r);for(var n=[],o=0,a=e.length;o<a;o++)n.push(t.call(r,e[o],o,e));return n}}function r(e){return e?t(l(e,"attribute"),function(e){return{id:a(e,"id"),title:a(e,"title"),type:a(e,"type")}}):[]}function n(e,r){return e?t(l(e,"node"),function(e){var t={id:a(e,"id"),name:a(e,"label"),itemStyle:{normal:{}}},n=i(e,"viz:size"),o=i(e,"viz:position"),u=i(e,"viz:color"),s=i(e,"attvalues");if(n&&(t.symbolSize=parseFloat(a(n,"value"))),o&&(t.x=parseFloat(a(o,"x")),t.y=parseFloat(a(o,"y"))),u&&(t.itemStyle.normal.color="rgb("+[0|a(u,"r"),0|a(u,"g"),0|a(u,"b")].join(",")+")"),s){var f=l(s,"attvalue");t.attributes={};for(var c=0;c<f.length;c++){var p=f[c],v=a(p,"for"),g=a(p,"value"),d=r[v];if(d){switch(d.type){case"integer":case"long":g=parseInt(g,10);break;case"float":case"double":g=parseFloat(g);break;case"boolean":g="true"==g.toLowerCase()}t.attributes[v]=g}}}return t}):[]}function o(e){return e?t(l(e,"edge"),function(e){var t={id:a(e,"id"),name:a(e,"label"),source:a(e,"source"),target:a(e,"target"),lineStyle:{normal:{}}},r=t.lineStyle.normal,n=i(e,"viz:thickness"),o=i(e,"viz:color");return n&&(r.width=parseFloat(n.getAttribute("value"))),o&&(r.color="rgb("+[0|a(o,"r"),0|a(o,"g"),0|a(o,"b")].join(",")+")"),t}):[]}function a(e,t){return e.getAttribute(t)}function i(e,t){for(var r=e.firstChild;r;){if(1==r.nodeType&&r.nodeName.toLowerCase()==t.toLowerCase())return r;r=r.nextSibling}return null}function l(e,t){for(var r=e.firstChild,n=[];r;)r.nodeName.toLowerCase()==t.toLowerCase()&&n.push(r),r=r.nextSibling;return n}function u(e){return e.sort(function(e,t){return e-t}),e}var s=Array.prototype.map,f=(Object.freeze||Object)({parse:function(e){var t;if(!(t="string"==typeof e?(new DOMParser).parseFromString(e,"text/xml"):e)||t.getElementsByTagName("parsererror").length)return null;var a=i(t,"gexf");if(!a)return null;for(var l=i(a,"graph"),u=r(i(l,"attributes")),s={},f=0;f<u.length;f++)s[u[f].id]=u[f];return{nodes:n(i(l,"nodes"),s),links:o(i(l,"edges"))}}}),c=function(e,t){var r=(e.length-1)*t+1,n=Math.floor(r),o=+e[n-1],a=r-n;return a?o+a*(e[n]-o):o};e.version="1.0.0",e.gexf=f,e.prepareBoxplotData=function(e,t){for(var r=[],n=[],o=[],a=(t=t||[]).boundIQR,i="none"===a||0===a,l=0;l<e.length;l++){o.push(l+"");var s=u(e[l].slice()),f=c(s,.25),p=c(s,.5),v=c(s,.75),g=s[0],d=s[s.length-1],b=(null==a?1.5:a)*(v-f),h=i?g:Math.max(g,f-b),m=i?d:Math.min(d,v+b);r.push([h,f,p,v,m]);for(var y=0;y<s.length;y++){var x=s[y];if(x<h||x>m){var w=[l,x];"vertical"===t.layout&&w.reverse(),n.push(w)}}}return{boxData:r,outliers:n,axisData:o}}});
