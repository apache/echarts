{"version":3,"file":"index.js","sources":["../lib/index.js"],"sourcesContent":["\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nexport function hydrate(dom, options) {\n  var svgRoot = dom.querySelector('svg');\n\n  if (!svgRoot) {\n    console.error('No SVG element found in the DOM.');\n    return;\n  }\n\n  var children = svgRoot.children;\n\n  function getIndex(child, attr) {\n    var index = child.getAttribute(attr);\n\n    if (index) {\n      return parseInt(index, 10);\n    } else {\n      return null;\n    }\n  }\n\n  var events = options.on;\n\n  if (events) {\n    var _loop_1 = function (eventName) {\n      if (typeof events[eventName] === 'function') {\n        var _loop_2 = function (i) {\n          var child = children[i];\n          var type = child.getAttribute('ecmeta_ssr_type');\n          var silent = child.getAttribute('ecmeta_silent') === 'true';\n\n          if (type && !silent) {\n            child.addEventListener(eventName, function (e) {\n              events[eventName]({\n                type: eventName,\n                ssrType: type,\n                seriesIndex: getIndex(child, 'ecmeta_series_index'),\n                dataIndex: getIndex(child, 'ecmeta_data_index'),\n                event: e\n              });\n            });\n          }\n        };\n\n        for (var i = 0; i < children.length; i++) {\n          _loop_2(i);\n        }\n      }\n    };\n\n    for (var eventName in events) {\n      _loop_1(eventName);\n    }\n  }\n}"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;EACA;EACA;EACA;AACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACO,SAAS,OAAO,CAAC,GAAG,EAAE,OAAO,EAAE;EACtC,EAAE,IAAI,OAAO,GAAG,GAAG,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;AACzC;EACA,EAAE,IAAI,CAAC,OAAO,EAAE;EAChB,IAAI,OAAO,CAAC,KAAK,CAAC,kCAAkC,CAAC,CAAC;EACtD,IAAI,OAAO;EACX,GAAG;AACH;EACA,EAAE,IAAI,QAAQ,GAAG,OAAO,CAAC,QAAQ,CAAC;AAClC;EACA,EAAE,SAAS,QAAQ,CAAC,KAAK,EAAE,IAAI,EAAE;EACjC,IAAI,IAAI,KAAK,GAAG,KAAK,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;AACzC;EACA,IAAI,IAAI,KAAK,EAAE;EACf,MAAM,OAAO,QAAQ,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC;EACjC,KAAK,MAAM;EACX,MAAM,OAAO,IAAI,CAAC;EAClB,KAAK;EACL,GAAG;AACH;EACA,EAAE,IAAI,MAAM,GAAG,OAAO,CAAC,EAAE,CAAC;AAC1B;EACA,EAAE,IAAI,MAAM,EAAE;EACd,IAAI,IAAI,OAAO,GAAG,UAAU,SAAS,EAAE;EACvC,MAAM,IAAI,OAAO,MAAM,CAAC,SAAS,CAAC,KAAK,UAAU,EAAE;EACnD,QAAQ,IAAI,OAAO,GAAG,UAAU,CAAC,EAAE;EACnC,UAAU,IAAI,KAAK,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC;EAClC,UAAU,IAAI,IAAI,GAAG,KAAK,CAAC,YAAY,CAAC,iBAAiB,CAAC,CAAC;EAC3D,UAAU,IAAI,MAAM,GAAG,KAAK,CAAC,YAAY,CAAC,eAAe,CAAC,KAAK,MAAM,CAAC;AACtE;EACA,UAAU,IAAI,IAAI,IAAI,CAAC,MAAM,EAAE;EAC/B,YAAY,KAAK,CAAC,gBAAgB,CAAC,SAAS,EAAE,UAAU,CAAC,EAAE;EAC3D,cAAc,MAAM,CAAC,SAAS,CAAC,CAAC;EAChC,gBAAgB,IAAI,EAAE,SAAS;EAC/B,gBAAgB,OAAO,EAAE,IAAI;EAC7B,gBAAgB,WAAW,EAAE,QAAQ,CAAC,KAAK,EAAE,qBAAqB,CAAC;EACnE,gBAAgB,SAAS,EAAE,QAAQ,CAAC,KAAK,EAAE,mBAAmB,CAAC;EAC/D,gBAAgB,KAAK,EAAE,CAAC;EACxB,eAAe,CAAC,CAAC;EACjB,aAAa,CAAC,CAAC;EACf,WAAW;EACX,SAAS,CAAC;AACV;EACA,QAAQ,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;EAClD,UAAU,OAAO,CAAC,CAAC,CAAC,CAAC;EACrB,SAAS;EACT,OAAO;EACP,KAAK,CAAC;AACN;EACA,IAAI,KAAK,IAAI,SAAS,IAAI,MAAM,EAAE;EAClC,MAAM,OAAO,CAAC,SAAS,CAAC,CAAC;EACzB,KAAK;EACL,GAAG;EACH;;;;;;"}